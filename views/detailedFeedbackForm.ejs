<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Entrevue Detail_FeedBack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Global stylesheets -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900" rel="stylesheet" type="text/css">
		<link href="global_assets/css/icons/icomoon/styles.min.css" rel="stylesheet" type="text/css">
		<link href="layout_1/LTR/default/full/assets/css/all.min.css" rel="stylesheet" type="text/css">
		<!-- /global stylesheets -->

		<!-- Core JS files -->
		<script src="global_assets/js/main/jquery.min.js"></script>
		<script src="global_assets/js/main/bootstrap.bundle.min.js"></script>
		<!-- /core JS files -->

		<!-- Theme JS files -->
		<script src="global_assets/js/plugins/visualization/echarts/echarts.min.js"></script>
		<script src="global_assets/js/plugins/ui/fullcalendar/core/main.min.js"></script>
		<script src="global_assets/js/plugins/ui/fullcalendar/daygrid/main.min.js"></script>
		<script src="global_assets/js/plugins/ui/fullcalendar/timegrid/main.min.js"></script>
		<script src="global_assets/js/plugins/ui/fullcalendar/interaction/main.min.js"></script>

		<script src="layout_1/LTR/default/full/assets/js/app.js"></script>
		<script src="global_assets/js/demo_pages/user_pages_profile.js"></script>
		<script src="global_assets/js/demo_charts/echarts/light/bars/tornado_negative_stack.js"></script>
		<script src="global_assets/js/demo_charts/pages/profile/light/balance_stats.js"></script>
		<script src="global_assets/js/demo_charts/pages/profile/light/available_hours.js"></script>

        <script src="global_assets/js/plugins/forms/selects/select2.min.js"></script>
        <script src="global_assets/js/demo_pages/form_layouts.js"></script>
		<!-- /theme JS files -->


    <style>
        .lower 
        {
            width: 100%;
            height: auto;
            overflow-y: scroll;
        }
        .lower .card 
        {
            width: 100%;
        }
    </style>
  </head>
  <body>
    <div class="lower">
        <div class="card">

            <div class="card-header header-elements-inline">
                <!-- <h2 class="card-title">Detailed Feedback Form</h2> -->
                
            <h2 class="card-title" style="margin-left: 0;font-weight: 900;">Detailed Feedback Form</h2>

                
            </div>

            <br>

            <div class="card-body">
                <form action="">
                    
                    <fieldset>
                        <legend class="font-weight-bold">
                            <i class="icon-reading mr-2"></i>
                            Introduction
                            <a class="float-right text-body" data-toggle="collapse" data-target="#demo1">
                                <i class="icon-circle-down2"></i>
                            </a>
                        </legend>

                        <div class="collapse show" id="demo1">
                            <div class="form-group row">
                                <label class="col-lg-4 col-form-label">Languages: </label>
                                <div class="col-lg-8">
                                    <input type="text" class="form-control" id="language" placeholder="" onchange="languageChange(this)">
                                </div>
                            </div>
                            
                            <div class="form-group row">
                                <label class="col-lg-4 col-form-label">Prior Experience:</label>
                                <div class="col-lg-8">
                                    <input type="number" class="form-control" id="priorExperience" placeholder="(in months)" onchange="priorExperienceChange(this)">
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-lg-4 col-form-label">Projects:</label>
                                <div class="col-lg-8">
                                    <input type="text" class="form-control" id="projects" placeholder="" onchange="detailProjectChange(this)">
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-lg-4 col-form-label">Tech Stack:</label>
                                <div class="col-lg-8">
                                    <input type="text" class="form-control" id="techStack" placeholder="" onchange="techStackChange(this)">
                                </div>
                            </div>

                        </div>
                    </fieldset>

                    <fieldset>
                        <legend class="font-weight-bold">
                            <i class="icon-reading mr-2"></i>
                            Data Structure and Algorithm
                            <a class="float-right text-body" data-toggle="collapse" data-target="#demo2">
                                <i class="icon-circle-down2"></i>
                            </a>
                        </legend>

                        <div class="collapse show" id="demo2">

                            <div class="row">
                                <div class="col-lg-6">
                                    <fieldset>
                                        <legend class="font-weight-semibold">
                                            <i class="icon-file-text2 mr-2"></i>
                                            Question 1
                                        </legend>
                
                                        
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Question</label>
                                                <div class="col-lg-8">
                                                    <select class="form-control" id="dsaQuestion1" placeholder="" onchange="dsaQuestion1Change(this)">
                                                        <option selected disabled>Select an option</option>
                                                        <% for (var i = 0; i < questionData.length; i++) { %>
                                                            <% if (questionData[i].categoryId == "1") { %>
                                                              <option><%= questionData[i].question %></option>
                                                            <% } %>
                                                          <% } %>
                                                    </select>
                                                </div>
                                            </div>
                
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Answer:</label>
                                                <div class="col-lg-8">
                                                    <textarea rows="5" cols="5" class="form-control" id="dsaAnswer1" placeholder="Enter detailed answer here" onchange="dsaAnswer1Change(this)"></textarea>
                                                </div>
                                            </div>
                                        
                                    </fieldset>
                                </div>

                                <div class="col-lg-6">
                                    <fieldset>
                                        <legend class="font-weight-semibold">
                                            <i class="icon-file-text2 mr-2"></i>
                                            Question 2
                                        </legend>
                
                                        
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Question</label>
                                                <div class="col-lg-8">
                                                    <select class="form-control" id="dsaQuestion2" placeholder="" onchange="dsaQuestion2Change(this)">
                                                        <option selected disabled>Select an option</option>
                                                        <% for (var i = 0; i < questionData.length; i++) { %>
                                                            <% if (questionData[i].categoryId == "1") { %>
                                                              <option><%= questionData[i].question %></option>
                                                            <% } %>
                                                          <% } %>
                                                    </select>
                                                </div>
                                            </div>
                
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Answer:</label>
                                                <div class="col-lg-8">
                                                    <textarea rows="5" cols="5" class="form-control" id="dsaAnswer2" placeholder="Enter detailed answer here" onchange="dsaAnswer2Change(this)"></textarea>
                                                </div>
                                            </div>
                                        
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <fieldset>
                        <legend class="font-weight-bold">
                            <i class="icon-reading mr-2"></i>
                            Operation System
                            <a class="float-right text-body" data-toggle="collapse" data-target="#demo3">
                                <i class="icon-circle-down2"></i>
                            </a>
                        </legend>

                        <div class="collapse show" id="demo3">

                            <div class="row">
                                <div class="col-lg-6">
                                    <fieldset>
                                        <legend class="font-weight-semibold">
                                            <i class="icon-file-text2 mr-2"></i>
                                            Question 1
                                        </legend>
                
                                        
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Question</label>
                                                <div class="col-lg-8">
                                                    <select class="form-control" id="osQuestion1" placeholder="" onchange="osQuestion1Change(this)">
                                                        <option selected disabled>Select an option</option>
                                                        <% for (var i = 0; i < questionData.length; i++) { %>
                                                            <% if (questionData[i].topicId == "2") { %>
                                                              <option><%= questionData[i].question %></option>
                                                            <% } %>
                                                          <% } %>
                                                    </select>
                                                </div>
                                            </div>
                
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Answer:</label>
                                                <div class="col-lg-8">
                                                    <textarea rows="5" cols="5" class="form-control" id="osAnswer1" placeholder="Enter detailed answer here" onchange="osAnswer1Change(this)"></textarea>
                                                </div>
                                            </div>
                                        
                                    </fieldset>
                                </div>

                                <div class="col-lg-6">
                                    <fieldset>
                                        <legend class="font-weight-semibold">
                                            <i class="icon-file-text2 mr-2"></i>
                                            Question 2
                                        </legend>
                
                                        
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Question</label>
                                                <div class="col-lg-8">
                                                    <select class="form-control" id="osQuestion2" onchange="osQuestion2Change(this)">
                                                        <option selected disabled>Select an option</option>
                                                        <% for (var i = 0; i < questionData.length; i++) { %>
                                                            <% if (questionData[i].topicId == "2") { %>
                                                              <option><%= questionData[i].question %></option>
                                                            <% } %>
                                                          <% } %>
                                                    </select>
                                                </div>
                                            </div>
                
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Answer:</label>
                                                <div class="col-lg-8">
                                                    <textarea rows="5" cols="5" class="form-control" id="osAnswer2" placeholder="Enter detailed answer here" onchange="osAnswer2Change(this)"></textarea>
                                                </div>
                                            </div>
                                        
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <fieldset>
                        <legend class="font-weight-bold">
                            <i class="icon-reading mr-2"></i>
                            DataBase and Management System
                            <a class="float-right text-body" data-toggle="collapse" data-target="#demo4">
                                <i class="icon-circle-down2"></i>
                            </a>
                        </legend>

                        <div class="collapse show" id="demo4">

                            <div class="row">
                                <div class="col-lg-6">
                                    <fieldset>
                                        <legend class="font-weight-semibold">
                                            <i class="icon-file-text2 mr-2"></i>
                                            Question 1
                                        </legend>
                
                                        
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Question</label>
                                                <div class="col-lg-8">
                                                    <select class="form-control" id="dbmsQuestion1" placeholder="" onchange="dbmsQuestion1Change(this)">
                                                        <option selected disabled>Select an option</option>
                                                        <% for (var i = 0; i < questionData.length; i++) { %>
                                                            <% if (questionData[i].topicId == "3") { %>
                                                              <option><%= questionData[i].question %></option>
                                                            <% } %>
                                                          <% } %>
                                                    </select>
                                                </div>
                                            </div>
                
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Answer:</label>
                                                <div class="col-lg-8">
                                                    <textarea rows="5" cols="5" class="form-control" id="dbmsAnswer1" placeholder="Enter detailed answer here" onchange="dbmsAnswer1Change(this)"></textarea>
                                                </div>
                                            </div>
                                        
                                    </fieldset>
                                </div>

                                <div class="col-lg-6">
                                    <fieldset>
                                        <legend class="font-weight-semibold">
                                            <i class="icon-file-text2 mr-2"></i>
                                            Question 2
                                        </legend>
                
                                        
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Question</label>
                                                <div class="col-lg-8">
                                                    <select class="form-control" id="dbmsQuestion2" placeholder="" onchange="dbmsQuestion2Change(this)">
                                                        <option selected disabled>Select an option</option>
                                                        <% for (var i = 0; i < questionData.length; i++) { %>
                                                            <% if (questionData[i].topicId == "3") { %>
                                                              <option><%= questionData[i].question %></option>
                                                            <% } %>
                                                          <% } %>
                                                    </select>
                                                </div>
                                            </div>
                
                                            <div class="form-group row">
                                                <label class="col-lg-4 col-form-label">Answer:</label>
                                                <div class="col-lg-8">
                                                    <textarea rows="5" cols="5" class="form-control" id="dbmsAnswer2" placeholder="Enter detailed answer here" onchange="dbmsAnswer2Change(this)"></textarea>
                                                </div>
                                            </div>
                                        
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                    </fieldset>


                </form>
            </div>



        
        <script src="/socket.io/socket.io.js"></script>
        <script>
            const socket = io();
            const uniqueId="<%=uniqueId%>";

            function languageChange(selectedRating) {
                var language= selectedRating.value
                console.log(`The user language ${language}`);
                socket.emit('languageUpdate', {language,uniqueId});
            }
            function priorExperienceChange(selectedRating) {
                var priorExperience= selectedRating.value
                console.log(`The user priorExperiencerating ${priorExperience}`);
                socket.emit('priorExperienceUpdate', {priorExperience,uniqueId});
            }
            function detailProjectChange(selectedRating) {
                var project = selectedRating.value
                console.log(`The user project rating ${project}`);
                socket.emit('detailProjectUpdate', {project,uniqueId});
            }
            function techStackChange(selectedRating) {
                var techStack = selectedRating.value
                console.log(`The user techStack rating ${techStack}`);
                socket.emit('techStackUpdate', {techStack,uniqueId});
            }
            function dsaQuestion1Change(selectedRating) {
                var dsaQuestion1 = selectedRating.value
                console.log(`The user dsaQuestion1 rating ${dsaQuestion1}`);
                socket.emit('dsaQuestion1Update', {dsaQuestion1,uniqueId});
            }
            function dsaAnswer1Change(selectedRating) {
                var dsaAnswer1 = selectedRating.value
                console.log(`The user dsaAnswer1 rating ${dsaAnswer1}`);
                socket.emit('dsaAnswer1Update', {dsaAnswer1,uniqueId});
            }
            function dsaQuestion2Change(selectedRating) {
                var dsaQuestion2 = selectedRating.value
                console.log(`The user dsaQuestion2 rating ${dsaQuestion2}`);
                socket.emit('dsaQuestion2Update', {dsaQuestion2,uniqueId});
            }
            function dsaAnswer2Change(selectedRating) {
                var dsaAnswer2 = selectedRating.value
                console.log(`The user dsaAnswer2 rating ${dsaAnswer2}`);
                socket.emit('dsaAnswer2Update', {dsaAnswer2,uniqueId});
            }
            function osQuestion1Change(selectedRating) {
                var osQuestion1 = selectedRating.value
                console.log(`The user osQuestion1 rating ${osQuestion1}`);
                socket.emit('osQuestion1Update', {osQuestion1,uniqueId});
            }
            function osAnswer1Change(selectedRating) {
                var osAnswer1 = selectedRating.value
                console.log(`The user osAnswer1 rating ${osAnswer1}`);
                socket.emit('osAnswer1Update', {osAnswer1,uniqueId});
            }
            function osQuestion2Change(selectedRating) {
                var osQuestion2 = selectedRating.value
                console.log(`The user osQuestion2 rating ${osQuestion2}`);
                socket.emit('osQuestion2Update', {osQuestion2,uniqueId});
            }
            function osAnswer2Change(selectedRating) {
                var osAnswer2 = selectedRating.value
                console.log(`The user osAnswer2 rating ${osAnswer2}`);
                socket.emit('osAnswer2Update', {osAnswer2,uniqueId});
            }
            function dbmsQuestion1Change(selectedRating) {
                var dbmsQuestion1 = selectedRating.value
                console.log(`The user dbmsQuestion1 rating ${dbmsQuestion1}`);
                socket.emit('dbmsQuestion1Update', {dbmsQuestion1,uniqueId});
            }
            function dbmsAnswer1Change(selectedRating) {
                var dbmsAnswer1 = selectedRating.value
                console.log(`The user dbmsAnswer1 rating ${dbmsAnswer1}`);
                socket.emit('dbmsAnswer1Update', {dbmsAnswer1,uniqueId});
            }
            function dbmsQuestion2Change(selectedRating) {
                var dbmsQuestion2 = selectedRating.value
                console.log(`The user dbmsQuestion2 rating ${dbmsQuestion2}`);
                socket.emit('dbmsQuestion2Update', {dbmsQuestion2,uniqueId});
            }
            function dbmsAnswer2Change(selectedRating) {
                var dbmsAnswer2 = selectedRating.value
                console.log(`The user dbmsAnswer2 rating ${dbmsAnswer2}`);
                socket.emit('dbmsAnswer2Update', {dbmsAnswer2,uniqueId});
            }
        </script>

        <script>
            function getSavedValues() {
                var detailFeedbackData = <%-JSON.stringify(detailFeedbackData)%>;
             
                document.getElementById("language").value = detailFeedbackData.language,
                document.getElementById("priorExperience").value = detailFeedbackData.priorExperience,
                document.getElementById("projects").value = detailFeedbackData.projects,
                document.getElementById("techStack").value = detailFeedbackData.techStack,
                document.getElementById("dsaQuestion1").value = detailFeedbackData.dsaQuestion1,
                document.getElementById("dsaAnswer1").value = detailFeedbackData.dsaAnswer1,
                document.getElementById("dsaQuestion2").value = detailFeedbackData.dsaQuestion2,
                document.getElementById("dsaAnswer2").value = detailFeedbackData.dsaAnswer2,
                document.getElementById("osQuestion1").value = detailFeedbackData.osQuestion1,
                document.getElementById("osAnswer1").value = detailFeedbackData.osAnswer1,
                document.getElementById("osQuestion2").value = detailFeedbackData.osQuestion2,
                document.getElementById("osAnswer2").value = detailFeedbackData.osAnswer2,
                document.getElementById("dbmsQuestion1").value = detailFeedbackData.dbmsQuestion1,
                document.getElementById("dbmsAnswer1").value = detailFeedbackData.dbmsAnswer1,
                document.getElementById("dbmsQuestion2").value = detailFeedbackData.dbmsQuestion2,
                document.getElementById("dbmsAnswer2").value = detailFeedbackData.dbmsAnswer2   
            }
            getSavedValues();
        </script>
  </body>
</html>